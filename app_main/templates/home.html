{% extends 'base.html' %}
{% load staticfiles %}
{% block content %}
{% block head %}
<script src="{% static 'external/js/angular.min.js' %}"></script>
<script src="{% static 'external/angular-resource.min.js' %}"></script>
<script src="{% static 'js/app.js' %}"></script>
{% endblock %}
<div ng-app="peopleModule">

    {% verbatim angular %}
    <div class='container' ng-controller="PeopleController as plpCtrl">
        <div class='card'>
            <div class="col s12">
                <ul class="tabs">
                    <li class="tab col s3"><a href="#test1">Perfiles</a></li>
                    <li class="tab col s3"><a href="#test2">Empleados</a></li>
                </ul>
            </div>
            <div id="test1" class="col s12">
                <table class="bordered centered">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>DNI</th>
                            <th>E-mail</th>
                            <th>Telefono</th>
                            <th>Detalles</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="profile in plpCtrl.profiles">
                        <tr>
                            <td>{{profile.first_name}} {{profile.last_name}}</td>
                            <td>{{profile.dni}}</td>
                            <td>{{profile.email}}</td>
                            <td>{{profile.phone}}</td>
                            <td><a class="waves-effect btn-flat black-text modal-trigger" href="#modalProfile" ng-click="plpCtrl.setCurrent($index)"><i class="material-icons">arrow_forward</i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="test2" class="col s12">
                <table  class="bordered centered">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>DNI</th>
                            <th>E-mail</th>
                            <th>Telefono</th>
                            <th>Detalles</th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="employee in plpCtrl.employees">
                        <tr>
                            <td>{{employee.profile.first_name}} {{employee.profile.last_name}}</td>
                            <td>{{employee.profile.dni}}</td>
                            <td>{{employee.profile.email}}</td>
                            <td>{{employee.profile.phone}}</td>
                            <td><a class="waves-effect btn-flat black-text modal-trigger" href="#modalEmployee" ng-click="plpCtrl.setCurrent($index)"><i class="material-icons">arrow_forward</i></a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Modal Structure -->
        <div id="modalEmployee" class="modal modal-fixed-footer">
            <form class="col s12">
                <div class="modal-content">
                    <div class="row">
                        <div class="input-field col s6">
                            <input id="first_name" value="{{plpCtrl.employees[plpCtrl.current].profile.first_name}} {{plpCtrl.employees[plpCtrl.current].profile.last_name}}"  type="text" >
                            <label for="first_name">Nombre y Apellido</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.employees[plpCtrl.current].profile.dni}}" type="text" >
                            <label for="last_name">DNI</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.employees[plpCtrl.current].profile.address}}" type="text" >
                            <label for="last_name">Direccion</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.employees[plpCtrl.current].profile.phone}}" type="text" >
                            <label for="last_name">Telefono</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.employees[plpCtrl.current].profile.cellphone}}" type="text" >
                            <label for="last_name">Celular</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.employees[plpCtrl.current].profile.email}}" type="text" >
                            <label for="last_name">Email</label>
                        </div>
                        <div class="input-field col s12">
                            <input id="last_name" value="{{plpCtrl.employees[plpCtrl.current].username}}" type="text" disabled="dissabled">
                            <label for="last_name">Nombre de Usuario</label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="#!" class=" modal-action black-text modal-close waves-effect waves-green btn-flat">Guardar</a>
                    <a href="#!" class=" modal-action black-text modal-close waves-effect waves-red btn-flat">Eliminar</a>
                </div>
            </form>
        </div>
        <div id="modalProfile" class="modal modal-fixed-footer">
            <form class="col s12">
                <div class="modal-content">
                    <div class="row">
                        <div class="input-field col s6">
                            <input id="first_name" value="{{plpCtrl.profiles[plpCtrl.current].first_name}} {{plpCtrl.profiles[plpCtrl.current].last_name}}"  type="text" >
                            <label for="first_name">Nombre y Apellido</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.profiles[plpCtrl.current].dni}}" type="text" >
                            <label for="last_name">DNI</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.profiles[plpCtrl.current].address}}" type="text" >
                            <label for="last_name">Direccion</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.profiles[plpCtrl.current].phone}}" type="text" >
                            <label for="last_name">Telefono</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.profiles[plpCtrl.current].cellphone}}" type="text" >
                            <label for="last_name">Celular</label>
                        </div>
                        <div class="input-field col s6">
                            <input id="last_name" value="{{plpCtrl.profiles[plpCtrl.current].email}}" type="text" >
                            <label for="last_name">Email</label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="#!" class=" modal-action black-text modal-close waves-effect waves-green btn-flat">Guardar</a>
                    <a href="#!" class=" modal-action black-text modal-close waves-effect waves-red btn-flat">Eliminar</a>
                </div>
            </form>
        </div>
    </div>
    {% endverbatim angular %}
</div>
{% endblock %}

{% block scripts %}

{% endblock %}
