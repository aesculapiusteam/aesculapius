{% extends 'base.html' %}
{% load staticfiles %}
{% block content %}
{% block head %}
<script src="{% static 'external/js/angular.min.js' %}"></script>
<script src="{% static 'external/angular-resource.min.js' %}"></script>
<script src="{% static 'js/app.js' %}"></script>
{% endblock %}
<div ng-app="peopleModule">
    <br>
    <div class="row center s3">
        <a href="{% url 'api:api-root' %}" class="btn-large indigo waves-effect waves-light">
            <i class="material-icons right">arrow_forward</i>API
        </a>
    </div>
    {% verbatim angular %}
    <div class='container'>
        <div class='card'>
            <div class="col s12">
                <ul class="tabs">
                    <li class="tab col s3"><a href="#test1">Perfiles</a></li>
                    <li class="tab col s3"><a class="active" href="#test2">Empleados</a></li>
                </ul>
            </div>
            <div ng-controller="ProfilesController as profCtrl" id="test1" class="col s12">
                <table class="bordered centered">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>DNI</th>
                            <th>E-mail</th>
                            <th>Telefono</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="profile in profCtrl.profiles">
                        <tr>
                            <td>{{profile.first_name}} {{profile.last_name}}</td>
                            <td>{{profile.dni}}</td>
                            <td>{{profile.email}}</td>
                            <td>{{profile.phone}}</td>
                            <td><a class="waves-effect waves-light btn">ver</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div ng-controller="EmployeesController as emplCtrl" id="test2" class="col s12">
                <table  class="bordered centered">
                    <thead>
                        <tr>
                            <th>Nombre</th>
                            <th>DNI</th>
                            <th>E-mail</th>
                            <th>Telefono</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody ng-repeat="employee in emplCtrl.employees">
                        <tr>
                            <td>{{employee.profile.first_name}} {{employee.profile.last_name}}</td>
                            <td>{{employee.profile.dni}}</td>
                            <td>{{employee.profile.email}}</td>
                            <td>{{employee.profile.phone}}</td>
                            <td><a class="waves-effect waves-light btn">ver</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    {% endverbatim angular %}
</div>
{% endblock %}

{% block scripts %}

{% endblock %}
